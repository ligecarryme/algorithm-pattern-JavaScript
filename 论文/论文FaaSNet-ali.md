### 1、介绍

无服务器计算允许开发人员将传统的基于服务器的单体应用程序分解为更细粒度的云功能，从而实现了一种构建和扩展应用程序和服务的新方法。程序员编写业务逻辑，云服务提供商提供配置、扩展、管理运行功能。

目前流行的打包部署云函数是使用自定义镜像，它极大的增强了可用性、可移植性和工具支持。（1）机器学习、数据分析、视频处理，限制他们的包大小是不现实的（aws lambda 限制上传的包大小为250m）（2）docker容器（3）DevOps功能，增量更新等。

FaaS平台最具吸引力的是资源弹性，允许用户程序在几秒内按需扩展到几万个云功能，者对基于自定义容器的FaaS基础设施提供快速容器配置的挑战很大。当前的FaaS提供商在应对突发流量时，扩展容器要复制当前容器几百上千个，工作负载导致网络贷款瓶颈，高弹性时噱头。其次，docker容器大，从后备存储提取会有明显的冷启动延迟，处于高争用状态。

现在的解决方案不行，Kraken，DADI使用点对点 (P2P) 方法来加速大规模容器配置，然而，它们需要一个或多个专用的、强大的服务器作为根节点来进行数据播种、元数据管理和协调。

阿里的方案行，FAASNET是一种用于加速无服务器容器配置的轻量级自适应中间件系统。FAASNET 通过将容器配置过程分散到以基于功能的树状结构组织的主机 VMs 之间来实现高可扩展性。功能树（FT）是一个逻辑的、基于树的网络覆盖。 FT 由多个主机 VM 组成，并允许以可扩展的方式跨所有 VM 分配容器运行时的代码包。FAASNET 通过动态适应 FT 拓扑的树平衡算法实现高适应性，以适应 VM 的加入和离开。

一个典型的FaaS VM池有数千个小型VM实例。FaaSNet很快，在8.3秒内完成2500个功能容器的配置（仅比配置单个容器的时间长1.6倍），比目前P2P注册中心快十几倍。

### 2、背景及意义

2.1 工作流

![](/Users/didi/Desktop/leetcode/论文/image/workflows.png)

2.2 工作负载分析

2.2.1 工作负载激增   优势：按需收费。分析吞吐量峰值。

2.2.2 冷启动  需要获取镜像数据，延迟很长，分析了北京上海的容器下载成本日志

### 3、FaaSNet 设计

3.1 设计

FAASNET 分散和并行化了跨 VM 的容器配置。FAASNET引入了一种称为功能树 (FT) 的抽象，以实现高效的大规模容器配置。FAASNET将一个FT管理器组件和一个工作器组件集成到我们现有的FaaS调度程序和 VM 代理中，以进行协调的FT管理。

3.2 功能树

调度器通过FT的插入和删除API来管理功能树。

